<!DOCTYPE html>
<html>
<head>
    <title>Video</title>
    <style type="text/css">
        div#video_player_box {
            width: 550px;
            background: #000;
            margin: 50px auto;
            padding: 10px;
        }

        div#video_controls_bar {
            text-align: center;
        }

        button {
            cursor: pointer;
        }
    </style>

    <script>
        function playPause(btn, vidId) {
            var video = document.getElementById(vidId);

            if (video.paused) {
                video.play();
                btn.innerHTML = "Pause";
            } else {
                video.pause();
                btn.innerHTML = "Play";
            }
        }

        document.addEventListener("visibilitychange", function () {
            var video = document.getElementById("my_video");
            var btn = document.getElementById("playpausebtn");

            if (document.hidden) {
                video.pause();
                btn.innerHTML = "Play";
            }
        });

        window.addEventListener("beforeunload", function () {
            document.getElementById("my_video").pause();
        });
    </script>
</head>

<body>

<div id="video_player_box">
    <video id="my_video" width="500" height="320" autoplay>
        <source src="ripples.mp4" type="video/mp4">

    </video>

    <div id="video_controls_bar">
        <button id="playpausebtn" onclick="playPause(this,'my_video')">
            Pause
        </button>
    </div>
</div>

</body>
</html>
